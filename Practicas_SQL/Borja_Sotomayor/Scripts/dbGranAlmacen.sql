CREATE DATABASE dbGranAlmacen
GO
USE dbGranAlmacen
GO

CREATE TABLE CAJEROS(
Codigo int NOT NULL,
NomApels nvarchar(255))

GO

CREATE TABLE PRODUCTOS(
Codigo int NOT NULL,
Nombre varchar(100),
Precio int)

GO

CREATE TABLE VENTA(
Cajero int NOT NULL,
Maquina int NOT NULL,
Producto int NOT NULL)

GO

CREATE TABLE MAQUINAS_REGISTRADORAS(
Codigo int NOT NULL,
Piso int)


ALTER TABLE CAJEROS ADD CONSTRAINT PK_CAJEROS PRIMARY KEY(Codigo);

ALTER TABLE PRODUCTOS ADD CONSTRAINT PK_PRODUCTOS PRIMARY KEY(Codigo);

ALTER TABLE MAQUINAS_REGISTRADORAS ADD CONSTRAINT PK_MAQUINAS_REGISTRADORAS PRIMARY KEY(Codigo);

ALTER TABLE VENTA ADD CONSTRAINT PK_VENTA PRIMARY KEY(Cajero,Maquina,Producto); 

ALTER TABLE VENTA ADD CONSTRAINT FK_VENTA_CAJERO FOREIGN KEY(Cajero) REFERENCES CAJEROS(Codigo);

ALTER TABLE VENTA ADD CONSTRAINT FK_VENTA_MAQUINA FOREIGN KEY(Maquina) REFERENCES MAQUINAS_REGISTRADORAS(Codigo);

ALTER TABLE VENTA ADD CONSTRAINT FK_VENTA_PRODUCTOS FOREIGN KEY(Producto) REFERENCES PRODUCTOS(Codigo);	

---INSERT PRODUCTOS---

INSERT INTO PRODUCTOS VALUES(1,'Teclado Logitech',300);

INSERT INTO PRODUCTOS VALUES(2,'Mouse Logitech',100);

INSERT INTO PRODUCTOS VALUES(3,'Monitor Logitech',900);

INSERT INTO PRODUCTOS VALUES(4,'Teclado DELL',350);

INSERT INTO PRODUCTOS VALUES(5,'Mouse DELL',150);

INSERT INTO PRODUCTOS VALUES(6,'Monitor DELL',950);

INSERT INTO PRODUCTOS VALUES(7,'Laptop Sony',800);

INSERT INTO PRODUCTOS VALUES(8,'Memoria USB KINGSTONE',200);

INSERT INTO PRODUCTOS VALUES(9,'DVD princo',10);

INSERT INTO PRODUCTOS VALUES(10,'Tarjeta SD',200);

INSERT INTO PRODUCTOS VALUES(11,'Teclardo Inalambrico Logitech',2800);

INSERT INTO PRODUCTOS VALUES(12,'Lubricante para metales',400);

INSERT INTO PRODUCTOS VALUES(13,'Tarjeta Madre Red Tech',300);

INSERT INTO PRODUCTOS VALUES(14,'Tarjeta de Video NVidia',400);

---INSERT CAJEROS---

INSERT INTO CAJEROS VALUES(1,'Eduardo Ramirez');

INSERT INTO CAJEROS VALUES(2,'Emanuel Jimenez');

INSERT INTO CAJEROS VALUES(3,'Raymundo Benavidez');

INSERT INTO CAJEROS VALUES(4,'Luis Fonseca');

INSERT INTO CAJEROS VALUES(5,'Juan Carlos Villagran');

---INSERT MAQUINAS REGISTRADORAS---

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(1,1);

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(2,1);

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(3,2);

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(4,2);

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(5,3);

INSERT INTO MAQUINAS_REGISTRADORAS VALUES(6,3);

---INSERT VENTA---

INSERT INTO VENTA VALUES(1,1,1);

INSERT INTO VENTA VALUES(1,1,2);

INSERT INTO VENTA VALUES(1,1,3);

INSERT INTO VENTA VALUES(1,1,4);

INSERT INTO VENTA VALUES(1,1,5);

INSERT INTO VENTA VALUES(1,1,6);

INSERT INTO VENTA VALUES(1,1,7);

INSERT INTO VENTA VALUES(1,1,8);

INSERT INTO VENTA VALUES(2,2,9);

INSERT INTO VENTA VALUES(2,2,10);

INSERT INTO VENTA VALUES(2,2,11);

INSERT INTO VENTA VALUES(2,2,12);

INSERT INTO VENTA VALUES(2,2,13);

INSERT INTO VENTA VALUES(2,2,14);

INSERT INTO VENTA VALUES(3,3,1);

INSERT INTO VENTA VALUES(3,3,2);

INSERT INTO VENTA VALUES(3,3,3);

INSERT INTO VENTA VALUES(3,3,4);

INSERT INTO VENTA VALUES(3,3,5);

INSERT INTO VENTA VALUES(3,3,6);

INSERT INTO VENTA VALUES(3,3,7);

INSERT INTO VENTA VALUES(3,3,8);

INSERT INTO VENTA VALUES(3,3,9);

INSERT INTO VENTA VALUES(3,3,10);

INSERT INTO VENTA VALUES(4,4,1);

INSERT INTO VENTA VALUES(4,4,2);

INSERT INTO VENTA VALUES(4,4,3);

INSERT INTO VENTA VALUES(4,4,4);

INSERT INTO VENTA VALUES(4,4,5);

INSERT INTO VENTA VALUES(4,4,6);

INSERT INTO VENTA VALUES(4,4,7);

INSERT INTO VENTA VALUES(4,4,8);

INSERT INTO VENTA VALUES(4,4,9);

INSERT INTO VENTA VALUES(4,4,10);

INSERT INTO VENTA VALUES(4,4,11);

INSERT INTO VENTA VALUES(4,4,12);

INSERT INTO VENTA VALUES(4,4,13);

INSERT INTO VENTA VALUES(4,4,14);

INSERT INTO VENTA VALUES(5,6,14);