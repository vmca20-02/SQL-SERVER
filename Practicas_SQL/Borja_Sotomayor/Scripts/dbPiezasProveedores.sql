CREATE DATABASE dbPiezasProveedores
GO
USE dbPiezasProveedores
GO

CREATE TABLE PIEZAS(
Codigo int NOT NULL,
Nombre nvarchar(100))

GO

CREATE TABLE SUMINISTRA(
CodigoPieza int NOT NULL,
IdProveedor char(4) NOT NULL,
Precio int)

GO

CREATE TABLE PROVEEDORES(
Id char(4) NOT NULL,
Nombre nvarchar(100))

GO

ALTER TABLE PIEZAS ADD CONSTRAINT PK_PIEZA PRIMARY KEY(Codigo);

ALTER TABLE PROVEEDORES ADD CONSTRAINT PK_PROVEEDORES PRIMARY KEY(Id);

ALTER TABLE SUMINISTRA ADD CONSTRAINT PK_SUMINISTRA PRIMARY KEY(CodigoPieza,IdProveedor);

ALTER TABLE SUMINISTRA ADD CONSTRAINT FK_SUMINISTRA_PIEZA  FOREIGN KEY(CodigoPieza) REFERENCES PIEZAS(Codigo);

ALTER TABLE SUMINISTRA ADD CONSTRAINT FK_SUMINISTRA_PROVEEDOR FOREIGN KEY(IdProveedor) REFERENCES PROVEEDORES(Id);


---INSERT PIEZAS---

INSERT INTO PIEZAS VALUES(1,'Tuerca');

INSERT INTO PIEZAS VALUES(2,'Tormillo');

INSERT INTO PIEZAS VALUES(3,'Ventilador');

INSERT INTO PIEZAS VALUES(4,'Cableado');

---INSERT PROVEEDORES---

INSERT INTO PROVEEDORES VALUES('0001','Raul Hernandez');

INSERT INTO PROVEEDORES VALUES('0002','Francisco Gonzales')

INSERT INTO PROVEEDORES VALUES('0003','Hernesto Villanueva');

INSERT INTO PROVEEDORES VALUES('0004','Bobby Brown');

---INSERT SUMINISTRA---

INSERT INTO SUMINISTRA VALUES(1,'0001',10000);

INSERT INTO SUMINISTRA VALUES(2,'0001',20000);


INSERT INTO SUMINISTRA VALUES(1,'0002',100000);

INSERT INTO SUMINISTRA VALUES(3,'0002',8000);

INSERT INTO SUMINISTRA VALUES(2,'0002',200000);


INSERT INTO SUMINISTRA VALUES(3,'0001',9000);

INSERT INTO SUMINISTRA VALUES(3,'0003',120000);

INSERT INTO SUMINISTRA VALUES(3,'0004',20000);