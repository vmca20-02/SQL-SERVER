CREATE DATABASE dbInvestigadores
GO
USE dbInvestigadores
GO

CREATE TABLE FACULTAD(
Codigo int NOT NULL,
Nombre nvarchar(100))

GO

CREATE TABLE INVESTIGADORES(
DNI varchar(8) NOT NULL,
NomApels nvarchar(255),
Facultad int)

GO

CREATE TABLE RESERVA(
DNI varchar(8) NOT NULL,
NumSerie char(4) NOT NULL,
Comienzo datetime,
Fin datetime)

GO

CREATE TABLE EQUIPOS(
NumSerie char(4) NOT NULL,
Nombre nvarchar(100),
Facultad int)


ALTER TABLE FACULTAD ADD CONSTRAINT PK_FACULTAD PRIMARY KEY(Codigo);

ALTER TABLE INVESTIGADORES ADD CONSTRAINT PK_INVESTIGADORES PRIMARY KEY(DNI);

ALTER TABLE RESERVA ADD CONSTRAINT PK_RESERVA PRIMARY KEY(DNI,NumSerie);

ALTER TABLE EQUIPOS ADD CONSTRAINT PK_EQUIPOS PRIMARY KEY(NumSerie);

ALTER TABLE INVESTIGADORES ADD CONSTRAINT FK_INVESTIGADORES_FACULTAD FOREIGN KEY(Facultad) REFERENCES FACULTAD(Codigo);

ALTER TABLE EQUIPOS ADD CONSTRAINT FK_EQUIPOS_FACULTAD FOREIGN KEY(Facultad) REFERENCES FACULTAD(Codigo);

ALTER TABLE RESERVA ADD CONSTRAINT  FK_RESERVA_INVESTIGADORES FOREIGN KEY(DNI) REFERENCES INVESTIGADORES(DNI);

ALTER TABLE RESERVA ADD CONSTRAINT FK_RESERVA_EQUIPOS FOREIGN KEY(NumSerie) REFERENCES EQUIPOS(NumSerie);


---INSERT FACULTAD---

INSERT INTO FACULTAD VALUES(1,'Facultad Tecnologica');

INSERT INTO FACULTAD VALUES(2,'Facultad de Software');

INSERT INTO FACULTAD VALUES(3,'Grupo de Logistica');

INSERT INTO FACULTAD VALUES(4,'Equipo de Intermediarios');

INSERT INTO FACULTAD VALUES(5,'Club de Robotica');

INSERT INTO FACULTAD VALUES(6,'Club de Audio y Video');

---INSERT INVESTIGADORES---

INSERT INTO INVESTIGADORES VALUES('0001','Ferdinand Hernandez',1);

INSERT INTO INVESTIGADORES VALUES('0002','Michael Solano',2);

INSERT INTO INVESTIGADORES VALUES('0003','Alberto Casanueva',3);

INSERT INTO INVESTIGADORES VALUES('0004','Julian Jimenez',4);

INSERT INTO INVESTIGADORES VALUES('0005','Enrique Guzman',4);

INSERT INTO INVESTIGADORES VALUES('0006','Annie Lenox',6);

---INSERT EQUIPOS---

INSERT INTO EQUIPOS VALUES('001A','Teclado Egornomico',1);

INSERT INTO EQUIPOS VALUES('002A','Engrapadora Industrial',1);

INSERT INTO EQUIPOS VALUES('003A','Tarjeta Madre Intel',1);

INSERT INTO EQUIPOS VALUES('004A','Tarjeta de Video NVidia',1);

INSERT INTO EQUIPOS VALUES('001B','Teclado Egornomico',2);

INSERT INTO EQUIPOS VALUES('002B','Engrapadora Industrial',2);

INSERT INTO EQUIPOS VALUES('003B','Tarjeta Madre Intel',2);

INSERT INTO EQUIPOS VALUES('004B','Tarjeta de Video NVidia',2);

INSERT INTO EQUIPOS VALUES('001C','Teclado Inalambrico',3);

INSERT INTO EQUIPOS VALUES('002C','Monitor AOC',3);

INSERT INTO EQUIPOS VALUES('003C','Proyector SONY',3);

INSERT INTO EQUIPOS VALUES('004C','Tarjeta de Video',3);

INSERT INTO EQUIPOS VALUES('001D','Computadora para practicas de programacion',4);

INSERT INTO EQUIPOS VALUES('002D','Computadora para practicas de Redes',4);

---INSERT RESERVA---

INSERT INTO RESERVA VALUES('0001','001A',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0001','001B',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0001','001C',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0002','001A',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0002','001B',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0002','001C',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0003','001C',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0003','001A',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0003','001B',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0003','003B',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0004','004A',2020/02/02,02/02/2020);

INSERT INTO RESERVA VALUES('0004','004B',2020/02/02,02/02/2020);