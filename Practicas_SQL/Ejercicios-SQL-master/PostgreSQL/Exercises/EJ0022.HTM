<!DOCTYPE HTML>

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>body{font: 12.8px Sans-serif; line-height: 1.5em; width: 19cm; max-width: 100%;margin:auto;}pre{word-wrap: break-word;border: 1px solid #CCC; padding: 20px;background-color:#EEE;border-radius:5px;}</style>
</head>

<body>
<h2 id="ejercicio-22">Ejercicio 22</h2>
<p>Un videoclub almacena información sobre sus películas en una tabla llamada &quot;peliculas&quot;.</p>
<ol>
<li><p>Créela con la siguiente estructura:</p>
<ul>
<li><strong>codigo</strong>, <em>serial</em>.</li>
<li><strong>titulo</strong>, <em>cadena de 40</em>.</li>
<li><strong>actor</strong>, <em>cadena de 20</em>.</li>
<li><strong>duracion</strong>, <em>entero</em>.</li>
<li><strong>clave primaria</strong>, <em>codigo</em>.</li>
</ul></li>
<li>Visualice la estructura de la tabla &quot;peliculas&quot;.</li>
<li><p>Ingrese los siguientes registros:</p>
<ul>
<li><em>'Misión imposible', 'Tom Cruise', 120</em>.</li>
<li><em>'Harry Potter y la piedra filosofal', 'xxx', 180</em>.</li>
<li><em>'Harry Potter y la camara secreta', 'xxx', 190</em>.</li>
<li><em>'Misión imposible 2', 'Tom Cruise', 120</em>.</li>
<li><em>'La vida es bella', 'zzz', 220</em>.</li>
</ul></li>
<li>Seleccione todos los registros y verifique la carga automática de los códigos.</li>
<li>Actualice las películas cuyo código es 3 colocando en &quot;actor&quot; 'Daniel R.'</li>
<li>Elimine la película 'La vida es bella'.</li>
<li>Elimine todas las películas cuya duración sea igual a 120 minutos.</li>
<li>Visualice los registros.</li>
<li><p>Ingrese el siguiente registro, sin valor para la clave primaria.</p>
<ul>
<li><em>'Mujer bonita', 'Richard Gere', 120</em>.</li>
</ul></li>
</ol>
<blockquote>
<p>Note que sigue la secuencia tomando el último valor generado, aunque ya no esté.</p>
</blockquote>
<h3 id="resuelto">Resuelto</h3>
<pre><code>/** EJERCICIO 22
 ******************************************************************************/

DROP TABLE IF EXISTS peliculas;
CREATE TABLE peliculas (
    codigo SERIAL,
    titulo VARCHAR(40),
    actor VARCHAR(20),
    duracion INT,
    PRIMARY KEY (codigo)
);
SELECT table_name,column_name,udt_name,character_maximum_length,is_NULLable 
    FROM information_schema.columns 
    WHERE table_name = &#39;peliculas&#39;;
    
INSERT INTO peliculas (titulo,actor,duracion)
    VALUES  (&#39;Mision imposible&#39;,&#39;Tom Cruise&#39;,120),
        (&#39;Harry Potter y la piedra filosofal&#39;,&#39;xxx&#39;,180),
        (&#39;Harry Potter y la camara secreta&#39;,&#39;xxx&#39;,190),
        (&#39;Mision imposible 2&#39;,&#39;Tom Cruise&#39;,120),
        (&#39;La vida es bella&#39;,&#39;zzz&#39;,220);
        
SELECT * FROM peliculas;

UPDATE peliculas SET actor=&#39;Daniel R.&#39; WHERE codigo=3;

DELETE FROM peliculas WHERE titulo=&#39;La vida es bella&#39;;

DELETE FROM peliculas WHERE duracion=120;

SELECT * FROM peliculas;

INSERT INTO peliculas (titulo,actor,duracion)
    VALUES  (&#39;Mujer bonita&#39;,&#39;Richard Gere&#39;,120);
    
SELECT * FROM peliculas;
</code></pre>

</body>
</html>

